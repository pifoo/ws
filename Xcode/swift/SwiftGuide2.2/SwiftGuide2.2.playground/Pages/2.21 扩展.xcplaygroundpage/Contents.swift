//: [Previous](@previous)
var str = "ğŸ’¡ğŸ•¯ğŸ“ğŸš©ğŸ“âœï¸ğŸ–â—ï¸â€¼ï¸â‰ï¸â•â”âŒâ­•ï¸ğŸ’¢â™¨ï¸"
/*:
    æœ¬é¡µåŒ…å«å†…å®¹ï¼š
    1. æ‰©å±•è¯­æ³•
    2. è®¡ç®—å‹å±æ€§
    3. æ„é€ å™¨
    4. æ–¹æ³•
    5. ä¸‹æ ‡
    6. åµŒå¥—ç±»å‹
 */
/*:
    æ‰©å±•å°±æ˜¯å‘ä¸€ä¸ªå·²æœ‰çš„ ç±»ã€ç»“æ„ä½“ã€æšä¸¾ç±»å‹ æˆ–è€… åè®®ç±»å‹ æ·»åŠ æ–°åŠŸèƒ½ï¼ˆfunctionalityï¼‰
    Swift ä¸­çš„æ‰©å±•å¯ä»¥ï¼š
    - æ·»åŠ è®¡ç®—å‹å±æ€§å’Œè®¡ç®—å‹é™æ€å±æ€§
    - å®šä¹‰å®ä¾‹æ–¹æ³•å’Œç±»å‹æ–¹æ³•
    - æä¾›æ–°çš„æ„é€ å™¨
    - å®šä¹‰ä¸‹æ ‡
    - å®šä¹‰å’Œä½¿ç”¨æ–°çš„åµŒå¥—ç±»å‹
    - ä½¿ä¸€ä¸ªå·²æœ‰ç±»å‹ç¬¦åˆæŸä¸ªåè®®
 
    æ³¨æ„ï¼š
    æ‰©å±•å¯ä»¥å¯¹ä¸€ä¸ªç±»å‹æ·»åŠ æ–°çš„åŠŸèƒ½ï¼Œä½†æ˜¯ä¸èƒ½é‡å†™å·²æœ‰çš„åŠŸèƒ½ã€‚
 */
//: ## 1. æ‰©å±•è¯­æ³•
/*:
    å£°æ˜ä¸€ä¸ªæ‰©å±•ä½¿ç”¨å…³é”®å­—extensionï¼š
 
    extension SomeType {
        // åŠ åˆ°SomeTypeçš„æ–°åŠŸèƒ½å†™åˆ°è¿™é‡Œ
    }
 
    extension SomeType: SomeProtocol, AnotherProctocol {
        // åè®®å®ç°å†™åˆ°è¿™é‡Œ
    }

    æ³¨æ„ï¼š
    å¦‚æœå®šä¹‰äº†ä¸€ä¸ªæ‰©å±•å‘ä¸€ä¸ªå·²æœ‰ç±»å‹æ·»åŠ æ–°åŠŸèƒ½ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–°åŠŸèƒ½å¯¹è¯¥ç±»å‹çš„æ‰€æœ‰å·²æœ‰å®ä¾‹ä¸­éƒ½æ˜¯å¯ç”¨çš„ï¼Œå³ä½¿å®ƒä»¬æ˜¯åœ¨ä½ çš„è¿™ä¸ªæ‰©å±•çš„å‰é¢å®šä¹‰çš„
 */

//: ## 2. è®¡ç®—å‹å±æ€§
/*
    æ‰©å±•å¯ä»¥å‘å·²æœ‰ç±»å‹æ·»åŠ  è®¡ç®—å‹å®ä¾‹å±æ€§ å’Œ è®¡ç®—å‹ç±»å‹å±æ€§
 
    æ³¨æ„ï¼š
    æ‰©å±•å¯ä»¥æ·»åŠ æ–°çš„ è®¡ç®—å±æ€§ï¼Œä½†æ˜¯ ä¸å¯ä»¥ æ·»åŠ  å­˜å‚¨å±æ€§ï¼Œä¹Ÿ ä¸å¯ä»¥ å‘å·²æœ‰å±æ€§æ·»åŠ  å±æ€§è§‚æµ‹å™¨(property observers)
 
    ä¸‹é¢çš„ä¾‹å­å‘ Swift çš„å†…å»ºDoubleç±»å‹æ·»åŠ äº†5ä¸ªè®¡ç®—å‹å®ä¾‹å±æ€§ï¼Œä»è€Œæä¾›ä¸è·ç¦»å•ä½åä½œçš„åŸºæœ¬æ”¯æŒ
 */
extension Double {
    var km: Double { return self * 1_000.0 }
    var m : Double { return self }
    var cm: Double { return self / 100.0 }
    var mm: Double { return self / 1_000.0 }
    var ft: Double { return self / 3.28084 }
}
let oneInch = 25.4.mm
print("One inch is \(oneInch) meters", terminator: "")
// æ‰“å°è¾“å‡ºï¼š"One inch is 0.0254 meters"
let threeFeet = 3.ft
print("Three feet is \(threeFeet) meters", terminator: "")
// æ‰“å°è¾“å‡ºï¼š"Three feet is 0.914399970739201 meters"

let aMarathon = 42.km + 195.m
print("A marathon is \(aMarathon) meters long", terminator: "")

//: ## 3. æ„é€ å™¨
/*:
    æ‰©å±•èƒ½å‘ç±»ä¸­ æ·»åŠ  æ–°çš„ ä¾¿åˆ©æ„é€ å™¨ï¼Œä½†æ˜¯å®ƒä»¬ ä¸èƒ½ å‘ç±»ä¸­æ·»åŠ æ–°çš„ æŒ‡å®šæ„é€ å™¨ æˆ– ææ„å™¨;
    æŒ‡å®šæ„é€ å™¨ å’Œ ææ„å™¨å¿…é¡» æ€»æ˜¯ç”± åŸå§‹ çš„ç±»å®ç°æ¥æä¾›
    
    æ³¨æ„ï¼š
    å¦‚æœä½ ä½¿ç”¨æ‰©å±•å‘ä¸€ä¸ªå€¼ç±»å‹æ·»åŠ ä¸€ä¸ªæ„é€ å™¨ï¼Œåœ¨è¯¥å€¼ç±»å‹å·²ç»å‘æ‰€æœ‰çš„å­˜å‚¨å±æ€§æä¾›é»˜è®¤å€¼ï¼Œè€Œä¸”æ²¡æœ‰å®šä¹‰ä»»ä½•å®šåˆ¶æ„é€ å™¨ï¼ˆcustom initializersï¼‰æ—¶ï¼Œä½ å¯ä»¥åœ¨å€¼ç±»å‹çš„æ‰©å±•æ„é€ å™¨ä¸­è°ƒç”¨é»˜è®¤æ„é€ å™¨(default initializers)å’Œé€ä¸€æˆå‘˜æ„é€ å™¨(memberwise initializers)ã€‚
 
    æ­£å¦‚åœ¨å€¼ç±»å‹çš„æ„é€ å™¨ä»£ç†ä¸­æè¿°çš„ï¼Œå¦‚æœä½ å·²ç»æŠŠæ„é€ å™¨å†™æˆå€¼ç±»å‹åŸå§‹å®ç°çš„ä¸€éƒ¨åˆ†ï¼Œä¸Šè¿°è§„åˆ™ä¸å†é€‚ç”¨ã€‚
 */
// ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªç”¨äºæè¿°å‡ ä½•çŸ©å½¢çš„å®šåˆ¶ç»“æ„ä½“Rect
struct Size {
    var width = 0.0, height = 0.0
}
struct Point {
    var x = 0.0, y = 0.0
}
struct Rect {
    var origin = Point()
    var size = Size()
}
// å› ä¸ºç»“æ„ä½“Rectæä¾›äº†å…¶æ‰€æœ‰å±æ€§çš„é»˜è®¤å€¼ï¼Œæ‰€ä»¥æ­£å¦‚é»˜è®¤æ„é€ å™¨ä¸­æè¿°çš„ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨æ¥å—ä¸€ä¸ªé»˜è®¤æ„é€ å™¨å’Œä¸€ä¸ªé€ä¸€æˆå‘˜æ„é€ å™¨ã€‚è¿™äº›æ„é€ å™¨å¯ä»¥ç”¨äºæ„é€ æ–°çš„Rectå®ä¾‹ï¼š
let defaultRect = Rect()
let memberwiseRect = Rect(origin: Point(x: 2.0, y: 2.0),
                          size: Size(width: 5.0, height: 5.0))
// å¯ä»¥æä¾›ä¸€ä¸ªé¢å¤–çš„ä½¿ç”¨ç‰¹æ®Šä¸­å¿ƒç‚¹å’Œå¤§å°çš„æ„é€ å™¨æ¥æ‰©å±•Rectç»“æ„ä½“ï¼š
extension Rect {        // æ‰©å±• Rect çš„æ„é€ å™¨
    init(center: Point, size: Size) {
        let originX = center.x - (size.width / 2)
        let originY = center.y - (size.height / 2)
        self.init(origin: Point(x: originX, y: originY), size: size)
    }
}
let centerRect = Rect(center: Point(x: 4.0, y: 4.0),
                      size: Size(width: 3.0, height: 3.0))
// centerRectçš„åŸç‚¹æ˜¯ (2.5, 2.5)ï¼Œå¤§å°æ˜¯ (3.0, 3.0)
/*
    æ³¨æ„ï¼š
    å¦‚æœä½¿ç”¨æ‰©å±•æä¾›äº†ä¸€ä¸ªæ–°çš„æ„é€ å™¨ï¼Œä½ ä¾æ—§æœ‰è´£ä»»ä¿è¯æ„é€ è¿‡ç¨‹èƒ½å¤Ÿè®©æ‰€æœ‰å®ä¾‹å®Œå…¨åˆå§‹åŒ–
 */
//: ## 4. æ–¹æ³•
/*:
    æ‰©å±•å¯ä»¥å‘å·²æœ‰ç±»å‹æ·»åŠ æ–°çš„ å®ä¾‹æ–¹æ³• å’Œ ç±»å‹æ–¹æ³•
    ä¸‹é¢çš„ä¾‹å­å‘Intç±»å‹æ·»åŠ ä¸€ä¸ªåä¸ºrepetitionsçš„æ–°å®ä¾‹æ–¹æ³•ï¼š
 */
// æ‰©å±•äº†ä¸€ä¸ªæ‰§è¡Œselfæ¬¡çš„å‡½æ•°
extension Int {
    func repetitions(task: () -> ()) { // repetitionsæ–¹æ³•ä½¿ç”¨äº†ä¸€ä¸ª  () -> ()  ç±»å‹çš„å•å‚æ•°ï¼ˆsingle argumentï¼‰ï¼Œè¡¨æ˜å‡½æ•°æ²¡æœ‰å‚æ•°è€Œä¸”æ²¡æœ‰è¿”å›å€¼
        for _ in 0..<self {
            task()
        }
    }
}
3.repetitions { 
    print("Hello", terminator: "")
}

/*:
    ä¿®æ”¹å®ä¾‹æ–¹æ³•ï¼ˆMutating Instance Methodsï¼‰
 
    é€šè¿‡æ‰©å±•æ·»åŠ çš„å®ä¾‹æ–¹æ³•ä¹Ÿå¯ä»¥ä¿®æ”¹è¯¥å®ä¾‹æœ¬èº«ã€‚
    ç»“æ„ä½“å’Œæšä¸¾ç±»å‹ä¸­ä¿®æ”¹selfæˆ–å…¶å±æ€§çš„æ–¹æ³•å¿…é¡»å°†è¯¥å®ä¾‹æ–¹æ³•æ ‡æ³¨ä¸ºmutatingï¼Œæ­£å¦‚æ¥è‡ªåŸå§‹å®ç°çš„ä¿®æ”¹æ–¹æ³•ä¸€æ ·ã€‚
 
    ä¸‹é¢çš„ä¾‹å­å‘Swiftçš„Intç±»å‹æ·»åŠ äº†ä¸€ä¸ªæ–°çš„åä¸ºsquareçš„ä¿®æ”¹æ–¹æ³•ï¼Œæ¥å®ç°ä¸€ä¸ªåŸå§‹å€¼çš„å¹³æ–¹è®¡ç®—ï¼š
 */
extension Int {
    mutating func square() {
        self = self * self
    }
}
var someInt = 3
someInt.square()
// someInt ç°åœ¨å€¼æ˜¯ 9
//: ## 5. ä¸‹æ ‡
/*
    æ‰©å±•å¯ä»¥å‘ä¸€ä¸ªå·²æœ‰ç±»å‹æ·»åŠ æ–°ä¸‹æ ‡ã€‚
    è¿™ä¸ªä¾‹å­å‘Swiftå†…å»ºç±»å‹Intæ·»åŠ äº†ä¸€ä¸ªæ•´å‹ä¸‹æ ‡, è¯¥ä¸‹æ ‡[n]è¿”å›åè¿›åˆ¶æ•°å­—ä»å³å‘å·¦æ•°çš„ç¬¬nä¸ªæ•°å­—
 
    123456789[0]è¿”å›9
    123456789[1]è¿”å›8
 */
extension Int {
    subscript(var digitIndex: Int) -> Int {
        var decimalBase = 1
        while digitIndex > 0 {
            decimalBase *= 10
            --digitIndex
        }
        return (self / decimalBase) % 10
    }
}
746381295[0]
// returns 5
746381295[1]
// returns 9
746381295[2]
// returns 2
746381295[8]
// returns 7

//å¦‚æœè¯¥Intå€¼æ²¡æœ‰è¶³å¤Ÿçš„ä½æ•°ï¼Œå³ä¸‹æ ‡è¶Šç•Œï¼Œé‚£ä¹ˆä¸Šè¿°å®ç°çš„ä¸‹æ ‡ä¼šè¿”å›0ï¼Œå› ä¸ºå®ƒä¼šåœ¨æ•°å­—å·¦è¾¹è‡ªåŠ¨è¡¥0ï¼š
746381295[9]
//returns 0, å³ç­‰åŒäºï¼š
0746381295[9]
//: ## 6. åµŒå¥—ç±»å‹
/*
    æ‰©å±•å¯ä»¥å‘å·²æœ‰çš„ç±»ã€ç»“æ„ä½“å’Œæšä¸¾æ·»åŠ æ–°çš„åµŒå¥—ç±»å‹ï¼š
 
 */
extension Int {
    enum Kind {
        case Negative, Zero, Positive
    }
    var kind: Kind {
        switch self {
        case 0:
            return .Zero
        case let x where x > 0:
            return .Positive
        default:
            return .Negative
        }
    }
}
func printIntegerKinds(numbers: [Int]) {
    for number in numbers {
        switch number.kind {
        case .Negative:
            print("- ", terminator: "")
        case .Zero:
            print("0 ", terminator: "")
        case .Positive:
            print("+ ", terminator: "")
        }
    }
    print("", terminator: "")
}
printIntegerKinds([3, 19, -27, 0, -6, 0, 7])
// prints "+ + - 0 - 0 +"























//: [Next](@next)
